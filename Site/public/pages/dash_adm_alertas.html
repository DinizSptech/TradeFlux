<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard de Alertas</title>
    <link rel="stylesheet" href="../css/admDatacenter.css" />
    <link rel="stylesheet" href="../css/barra_lateral.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="../js/barra_lateral.js" defer></script>
    <script src="../js/admDatacenter.js" defer></script>
</head>
<body onload="carregarMenuLateral()">
    <div class="navbar">
        <i onclick="mudarIcone()" id="menu-bar">☰</i>
        <div class="container_perfil_menu" id="modal_perfil">
            <i class="fa-solid fa-bell" onclick="abrirModal('notificacoes')"></i>
            <span class="barraVertical"></span>
            <div class="button_perfil_nav_bar" onclick="abrirModal('perfil')">
                <img class="imgPerfil" id="rogerioCientista2" style="display: none; border-radius: 50%;" src="../assets/icons_protopersonas/rogerioCientista.png" alt="" height="80"/>
                <img class="imgPerfil" id="jenniferADM2" style="display: none; border-radius: 50%;" src="../assets/icons_protopersonas/jenniferADM.png" alt="" height="80"/>
                <img class="imgPerfil" id="juliaAnalista2" style="display: none; border-radius: 50%;" src="../assets/icons_protopersonas/juliaAnalista.png" alt="" height="80"/>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
        </div>
    </div>
    <div id="barralateral" class="barra-lateral"></div>
    
    <div id="painel-controle" class="dashboard">
        <div id="secao-metricas" class="header-metrics">
            <div id="cartao-filtro" class="metric-card filter-card">
                <div class="botoes-filtro">
                    <button onclick="obterMaioresAlertas24h()" class="botao-filtro active">Últimas 24 horas</button>
                    <button onclick="obterMaioresAlertas7d()" class="botao-filtro">Últimos 7 dias</button>
                    <button onclick="obterMaioresAlertas30d()" class="botao-filtro">Últimos 30 dias</button>
                </div>
                <h3>Selecione intervalo de tempo</h3>
            </div>
            <div id="cartao-alertas" class="metric-card alert-card">
                <div id="valor-alertas" class="metric-value danger">0</div>
                <h3>Alertas fora do tempo ideal de resolução</h3>
            </div>
            <div id="cartao-tempo" class="metric-card time-card">
                <div id="valor-medio-resolucao" class="metric-value warning">Carregando...</div>
                <h3>Tempo médio de resolução em todos Data Centers</h3>
            </div>
        </div>

        <div id="secao-tabelas" class="tables-section">
            <div id="container-top-alertas" class="table-container">
                <h2>Top 5 Alertas com maior atraso na resolução</h2>
                <div class="table-wrapper">
                    <table id="tabela-top-alertas" class="data-table">
                        <thead>
                            <tr>
                                <th>Data Center</th>
                                <th>Data-hora</th>
                                <th>Temp. de Resolução</th>
                            </tr>
                        </thead>
                        <tbody id="corpo-tabela-alertas">
                        </tbody>
                    </table>
                </div>
            </div>
            <div id="container-top-datacenters" class="table-container">
                <h2>Top 3 Data Centers com maior média de tempo de resolução dos alertas</h2>
                <div class="table-wrapper">
                    <table id="tabela-top-datacenters" class="data-table">
                        <thead>
                            <tr>
                                <th>Data Center</th>
                                <th>Temp. de Resolução</th>
                            </tr>
                        </thead>
                        <tbody id="corpo-tabela-datacenters">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="secao-graficos" class="charts-section">
            <div id="grafico-container" class="grafico-container">
                <h2>Top 3 Data Centers com maior número de atrasos</h2>
                <div id="grafico" class="grafico"></div>
            </div>
        </div>
    </div>
</body>
</html>